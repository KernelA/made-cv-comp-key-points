unzip:
  cmd: python ./unzip.py -c ./configs/prepare/unzip.yml
  deps:
  - path: ./configs/prepare/unzip.yml
    md5: ff03768450dac832b7dc882386ed2090
    size: 95
  - path: ./data/raw-data/made-cv-2021-contest-01-facial-landmarks.zip
    md5: f7d2134eb7b54aef3b56ae4cfc683ab7
    size: 2186362366
  - path: ./unzip.py
    md5: ea0334e3ff9614bfcf5f36fb9e9739cd
    size: 1807
  outs:
  - path: ./data/test-train/contest01_data
    md5: caec7946fd41a447a13aaf84f6486866.dir
    size: 2512026582
    nfiles: 80003
extract_train_emb:
  cmd: python ./compute_embeddings.py -c ./configs/extract_features/ext_features.yml
  deps:
  - path: ./compute_embeddings.py
    md5: 857e678215456c93188ada9be223a469
    size: 2612
  - path: ./configs/extract_features/ext_features.yml
    md5: e3a55327cccce292086c253b7d595495
    size: 87
  - path: ./data/test-train/contest01_data/train
    md5: 9ea72cf7aba685917ebb94c550aaccfe.dir
    size: 2090142348
    nfiles: 64001
  - path: ./face_landmarks
    md5: 33dc63720237dabfc91477737c41940c.dir
    size: 13766
    nfiles: 16
  outs:
  - path: ./data/features/train_emb.pickle
    md5: 5e14bb7ff2a970f44131e8ea71821ee5
    size: 262144163
download_data:
  cmd: kaggle competitions download -c made-cv-2021-contest-01-facial-landmarks -p
    ./data/raw-data/
  outs:
  - path: ./data/raw-data/made-cv-2021-contest-01-facial-landmarks.zip
    md5: f7d2134eb7b54aef3b56ae4cfc683ab7
    size: 2186362366
train:
  cmd: python ./main_train.py -c ./configs/train/train.yml --fast_dev_run
  deps:
  - path: ./configs/train/train.yml
    md5: fb41f155ec32ac05b8cd178e13826f88
    size: 169
  - path: ./face_landmarks/
    md5: 3279ab5ab90a3fad6a20699a8dda7666.dir
    size: 32536
    nfiles: 22
  - path: ./main_train.py
    md5: 531c80c2ec3279a3dcfd878667d4f322
    size: 6287
  - path: ./model/
    md5: 3bbbf2318c43a9ef64faa9dcd6d3731f.dir
    size: 2547
    nfiles: 4
  - path: .\data\test-train/contest01_data/train
    md5: 9ea72cf7aba685917ebb94c550aaccfe.dir
    size: 2090142348
    nfiles: 64001
  params:
    params.py:
      LossParams:
        w: 0.1
        eps: 2
        redcution: sum
      OptimizerParams:
        lr: 0.001
        betas:
        - 0.9
        - 0.999
        eps: 1e-08
        weight_decay: 0
        amsgrad: false
      TrainParams:
        train_size: 0.8
        num_landmarks: 971
        dropout_prob: 0.5
        check_val_every_n_epoch: 2
        flush_logs_every_n_steps: 20
        precision: 16
        max_epochs: 5
  outs:
  - path: ./exp/train
    md5: d751713988987e9331980363e24189ce.dir
    size: 0
    nfiles: 0
